$patterns = @{
    'ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã¢â‚¬Å“ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€¦Ã‚Â¡ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€šÃ‚Â ' = ''
    'ÃƒÆ’Ã‚Â¢Ãƒâ€¦Ã¢â‚¬Å“ÃƒÂ¢Ã¢â€šÂ¬Ã‚Â¦' = ''
    'ÃƒÆ’Ã‚Â°Ãƒâ€¦Ã‚Â¸ÃƒÂ¢Ã¢â€šÂ¬Ã‚Â ÃƒÂ¢Ã¢â€šÂ¬Ã‚Â ' = ''
    'ÃƒÆ’Ã‚Â°Ãƒâ€¦Ã‚Â¸ÃƒÂ¢Ã¢â€šÂ¬Ã‹Å“Ãƒâ€šÃ‚Â¨ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€šÃ‚Â ÃƒÆ’Ã‚Â°Ãƒâ€¦Ã‚Â¸ÃƒÂ¢Ã¢â€šÂ¬Ã¢â€žÂ¢Ãƒâ€šÃ‚Â¼' = ''
    'ÃƒÆ’Ã‚Â°Ãƒâ€¦Ã‚Â¸ÃƒÂ¢Ã¢â€šÂ¬Ã‚Â Ãƒâ€šÃ‚Â ' = ''
    'ÃƒÆ’Ã‚Â°Ãƒâ€¦Ã‚Â¸ÃƒÂ¢Ã¢â€šÂ¬Ã…â€œÃƒÂ¢Ã¢â€šÂ¬Ã‚Â¹' = ''
    'ÃƒÆ’Ã‚Â°Ãƒâ€¦Ã‚Â¸Ãƒâ€šÃ‚Â§Ãƒâ€šÃ‚Â¾' = ''
    'ÃƒÆ’Ã‚Â°Ãƒâ€¦Ã‚Â¸Ãƒâ€šÃ‚Â§ÃƒÂ¢Ã¢â€šÂ¬Ã‹Å“ÃƒÆ’Ã‚Â¢ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬Ãƒâ€šÃ‚Â ÃƒÆ’Ã‚Â°Ãƒâ€¦Ã‚Â¸ÃƒÂ¢Ã¢â€šÂ¬Ã¢â€žÂ¢Ãƒâ€šÃ‚Â¼' = '🧑‍&nbsp;💼'
    'Ã°Ã…Â¸Ã‚Â§Ã¢â‚¬ËœÃƒÂ¢Ã¢â€šÂ¬Ã‚Â Ã°Ã…Â¸Ã¢â‚¬â„¢Ã‚Â¼' = '🧑‍&nbsp;💼'
    'Ã°Ã…Â¸Ã‚Â§Ã¢â‚¬Ëœ' = '🧑'
    'ÃƒÂ°Ã…Â¸Ã¢â‚¬Å“Ã¢â‚¬Â¹' = '📋'
    'Ã°Ã…Â¸Ã¢â‚¬Å“Ã¢â‚¬Â¹' = '📋'
    'ÃƒÂ°Ã…Â¸Ã¢â‚¬Â Ã‚Â' = '🔍'
    'Ã°Ã…Â¸Ã¢â‚¬Â Ã‚Â' = '🔍'
    'ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¹' = '₹'
    'â‚¹' = '₹'
    'ÃƒÂ¢Ã…â€œÃ¢â‚¬Â¦' = '✅'
    'âœ…' = '✅'
    'â€”' = '—'
    'Ã¢â‚¬â€' = '—'
    'Ã‚Â' = ' '
    'ÃƒÂ¢Ã¢â€šÂ¬Ã‚Â¦' = '...'
    'Ã¢â‚¬â„¢' = "'"
    'ÃƒÂ¢Ã¢â‚¬Å¾Ã‚Â¢' = "'"
    'ÃƒÂ¢Ã¢â‚¬Å¡Ã‚Â¬' = '€'
    'Ãƒâ€šÃ‚Â£' = '£'
    'Ã¢Â­Â ' = '⭐'
}

$staticDir = "src\main\resources\static"
$files = Get-ChildItem -Path $staticDir -Include *.html, *.js, *.css -Recurse

foreach ($file in $files) {
    try {
        $content = [System.IO.File]::ReadAllText($file.FullName, [System.Text.Encoding]::UTF8)
        $modified = $false
        foreach ($pattern in $patterns.Keys) {
            if ($content.Contains($pattern)) {
                $content = $content.Replace($pattern, $patterns[$pattern])
                $modified = $true
            }
        }
        if ($modified) {
            [System.IO.File]::WriteAllText($file.FullName, $content, [System.Text.Encoding]::UTF8)
            Write-Host "Cleaned: $($file.FullName)"
        }
    } catch {
        Write-Warning "Failed to process $($file.FullName): $($_.Exception.Message)"
    }
}
